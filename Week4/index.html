<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script>
      let globalId = 1;

      // Naive Way
      // function addTodo() {
      //   const title = document.getElementById("title").value;
      //   const description = document.getElementById("description").value;
      //   const originalTodos = document.getElementById("todos").innerHTML;
      //   document.getElementById("todos").innerHTML =
      //     originalTodos +
      //     `<div>
      //     <p>${title}</p>
      //     <p>${description}</p>
      //     <button>Mark as Comlete</button>
      //   </div>`;
      // }

      function markAsDone(id) {
        const parent = document.getElementById(id);
        parent.children[2].innerHTML = "Done!";
      }

      function createChild(title, description, id) {
        const parentDiv = document.createElement("div");
        const titleP = document.createElement("p");
        titleP.innerHTML = title;
        const descriptionP = document.createElement("p");
        descriptionP.innerHTML = description;
        const doneButton = document.createElement("button");
        doneButton.innerHTML = "Mark as done!";

        doneButton.setAttribute("onclick", `markAsDone(${id})`);
        parentDiv.appendChild(titleP);
        parentDiv.appendChild(descriptionP);
        parentDiv.appendChild(doneButton);
        parentDiv.setAttribute("id", id);

        return parentDiv;
      }

      function addTodo() {
        const title = document.getElementById("title").value;
        const description = document.getElementById("description").value;

        const parentDiv = document.getElementById("todos");
        parentDiv.appendChild(createChild(title, description, globalId++));
      }
    </script>
  </head>
  <body>
    <input type="text" id="title" placeholder="title" /> <br />
    <br />
    <input type="text" id="description" placeholder="description" /> <br />
    <br />
    <button onclick="addTodo()">Add Todo</button>

    <div id="todos"></div>
  </body>
</html>
